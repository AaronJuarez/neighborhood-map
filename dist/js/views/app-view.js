var app=app||{};!function(a){"use strict";app.AppView={menuDisplay:function(){window.innerWidth>=800?a("#sidebar").toggleClass("nav-close"):a("#sidebar").toggleClass("nav-open")},hideSidebar:function(){window.innerWidth<800&&a("#sidebar").toggleClass("nav-open")},flickrData:ko.observable(""),wikipediaData:ko.observable(""),getFlickrImg:function(b){b=b.replace(/ /g,"+");var c="https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=a11e9fccfcfb19ef18a46c3872a214a4&user_id=141904481%40N02&text="+b+"&format=json&nojsoncallback=1";a.getJSON(c,function(a){if("fail"===a.stat)return void app.AppView.flickrData("Flicker image could not be loaded");var b=a.photos.photo[0],c='<img class="flickr-img img-responsive" src="https://farm'+b.farm+".staticflickr.com/"+b.server+"/"+b.id+"_"+b.secret+'.jpg"><figcaption>Image powered by Flickr</figcaption>';app.AppView.flickrData(c)}).fail(function(a){app.AppView.flickrData("Flicker image could not be loaded")})},getWikipediaArticle:function(b){a.ajax("https://en.wikipedia.org/w/api.php?action=opensearch&search="+b+"&format=json&callback=wikiCallback",{dataType:"jsonp"}).done(function(a){var b=a[1],c=a[3],d="";if(""===a[0])return void app.AppView.wikipediaData("No data found");for(var e=0;e<b.length;e++)d=d+"<li><a href="+c[e]+' target="_blank">'+b[e]+"</a></li>";app.AppView.wikipediaData(d)}).fail(function(){app.AppView.wikipediaData("Failed to get wikipedia resources")})}}}(jQuery);