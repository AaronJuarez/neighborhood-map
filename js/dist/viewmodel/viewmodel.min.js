var app=app||{};!function(){"use strict";app.ViewModel=function(){var a=this;app.placeCollection.placesData.forEach(function(a){app.placeCollection.allPlaces.push(new app.PlaceModel.Place(a))}),this.placesList=ko.observableArray(app.placeCollection.allPlaces),this.initialMarkPlaces=function(){app.MapView.searchLocations(app.placeCollection.allPlaces)},window.addEventListener("load",function(){a.initialMarkPlaces()}),this.toggleNav=function(){app.AppView.menuDisplay()},this.filtered=app.PlaceModel.filteredPlace,this.filter=function(){var b=app.PlaceModel.filteredPlace().toLowerCase();this.reset(),a.placesList().forEach(function(a){var c=a.name.toLowerCase();c.includes(b)||(a.marker.setMap(null),app.placeCollection.removedPlaces.push(a))}),app.placeCollection.removedPlaces.forEach(function(b){a.placesList.remove(b)})},this.reset=function(){app.placeCollection.allPlaces.forEach(function(a){a.isActive===!0&&a.marker.toggleMarkerAction()}),app.placeCollection.removedPlaces.forEach(function(b){b.marker.setMap(app.map),a.placesList.push(b)}),app.placeCollection.removedPlaces=[]},this.clickedListElem=function(a){app.AppView.hideSidebar(),a.marker.toggleMarkerAction()},this.showInfo=function(){var a=$("#info-button").prev().prev().text();$("#placeInfoTitle").text(a),app.AppView.getFlickrImg(a),app.AppView.getWikipediaArticle(a)},this.deleteInfo=function(){$("#placeInfoTitle").empty(),$("#flickr").empty(),$("#wikipedia-links").empty()}},ko.applyBindings(new app.ViewModel)}();